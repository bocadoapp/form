(this.webpackJsonpform=this.webpackJsonpform||[]).push([[0],{119:function(e,t,a){e.exports=a.p+"static/media/logo.ceaf2aeb.png"},133:function(e,t,a){e.exports=a(151)},146:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(117),c=a.n(r),s=a(81),i=a(82),o=a(114),m=a(124),u=a(37),d=a(157),f=["ca","es"],p={es:{intro1:"Somos <logo>Bocado</span>! Estamos cocinando, en pleno confinamiento por la COVID19, una aplicaci\xf3n m\xf3vil con el objetivo de compartir recetas y men\xfas saludables y equilibrados entre usuarios.",intro2:"Nosotros estamos centrados en el desarrollo y el dise\xf1o pero nos gustar\xeda poder contar contigo porque nos ayudes a completar un recetario inicial. Hemos preparado un formulario r\xe1pido y sencillo para que puedas subir tantas recetas como quieras y puedas :).",intro3:"Nos comprometemos a darte acceso para que puedas testear la app cuando est\xe9 terminada antes de presentarla al p\xfablico."},ca:{intro1:"Som <logo>Bocado</logo>! Estem cuinant, en ple confinament per la COVID19, una aplicaci\xf3 m\xf2bil amb l'objectiu de compartir receptes i men\xfas saludables i equilibrats entre usuaris.",intro2:"Nosaltres estem centrats en el desenvolupament i el disseny per\xf2 ens agradaria poder comptar amb tu perqu\xe8 ens ajudis a completar un receptari inicial. Hem preparat un formulari r\xe0pid i senzill perqu\xe8 puguis pujar tantes receptes com vulguis i puguis :).",intro3:"Ens comprometem a donar-te acc\xe9s per a que puguis testejar l'app tan bon punt la tinguem enllestida abans que en fem la presentaci\xf3 p\xfablica ;)"}},b=a(25),E=a(53),g=a(26),v=a(17),x=[{},{disabled:!1,styled:"gradient",label:"Informaci\xf3",icon:"fas fa-info-circle"},{disabled:!1,styled:"gradient",label:"Ingredients",icon:"fas fa-carrot"},{disabled:!0,styled:"gradient",label:"Passos",icon:"fas fa-list-ol",disabledMessage:"Has d'afegir minim 1 ingredient \ud83d\ude4f"},{disabled:!0,styled:"success",label:"Guardar",icon:"far fa-save",disabledMessage:"Has d'afegir minim 1 pas \ud83d\ude4f"}],y=function(e){return x[e]},N=function(){try{var e=JSON.parse(localStorage.getItem("bocado_user"));return e||null}catch(t){return null}},h=["\ud83e\udd55","\ud83c\udf45","\ud83e\udd6c","\ud83c\udf3d","\ud83c\udf46","\ud83e\udd6d","\ud83e\udd65","\ud83e\udd5d","\ud83c\udf53","\ud83c\udf52","\ud83c\udf51","\ud83c\udf50","\ud83c\udf4f","\ud83c\udf4e","\ud83c\udf4d","\ud83c\udf4c","\ud83c\udf4b","\ud83c\udf4a","\ud83c\udf49","\ud83c\udf48","\ud83c\udf47"],j=function(e,t){return Math.random()*(t-e+1)+e},w=Object(n.createContext)(),O=Number(window.location.hash.split("/").find((function(e){return!isNaN(Number(e))})))||1,k={step:O,numSteps:4,user:null,btn:y(O),triggerAnimation:!1,points:0};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STEP":return Object(v.a)({},e,{step:t.step,btn:y(t.step)});case"SET_USER":return Object(v.a)({},e,{user:t.user});case"SET_BUTTON":return Object(v.a)({},e,{btn:Object(v.a)({},e.btn,{},t.btn)});case"TOGGLE_ANI":return Object(v.a)({},e,{triggerAnimation:t.value});case"SET_POINTS":var a=t.withAnimation?!e.withAnimation:e.withAnimation;return Object(v.a)({},e,{points:t.points,triggerAnimation:a});default:return Object(v.a)({},e)}}function C(e){var t=e.children;return l.a.createElement(w.Provider,{value:Object(n.useReducer)(S,k)},t)}function T(){var e=Object(n.useContext)(w),t=Object(g.a)(e,2),a=t[0],l=t[1];return Object(v.a)({},a,{setStep:function(e){return l({type:"SET_STEP",step:e})},setUser:function(e){return l({type:"SET_USER",user:e})},setBtn:function(e){return l({type:"SET_BUTTON",btn:e})},toggleAnimation:function(e,t){l({type:"TOGGLE_ANI",value:e}),t&&t()},setPoints:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l({type:"SET_POINTS",points:e,withAnimation:t})}})}var I=a(155),P=a(33),R=a.n(P),q=a(44),_=[{num:1,name:"Registre",icon:"fas fa-user-plus"},{num:2,name:"Informacio general",icon:"fas fa-info-circle"},{num:3,name:"Ingredients",icon:"fas fa-pizza-slice"},{num:4,name:"Passos",icon:"fas fa-list-ol"}],A=function(){var e=T(),t=e.points,a=e.triggerAnimation,r=Object(n.useState)(t),c=Object(g.a)(r,2),s=c[0],i=c[1],o=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(t!==s){var e=t>s?"inc":"dec";o.current&&clearInterval(o.current),o.current=setInterval((function(){i((function(a){return a===t?(clearInterval(o.current),a):"inc"===e?a+1:a-1}))}),15)}return function(){return clearInterval(o.current)}}),[t]),Object(n.useEffect)((function(){return i(t)}),[]),l.a.createElement(b.b.span,{animate:a?{scale:1.7}:{scale:1},initial:{scale:1},transition:{duration:.5},className:"bocado z-50 items-center justify-center inline-flex text-black w-8 h-8 rounded-full"},s," ",l.a.createElement("span",{style:{fontSize:"9px"}},"punts"))},U={invisible:{y:0,x:0,opacity:0,display:"none"},visible:function(e){var t=e.x;return{opacity:[1,0],y:e.y,x:t,display:"flex",transition:{duration:e.duration}}}},B=function(e){var t=e.duration;return h.map((function(e){var a={ra:j(-90,90),toX:j(0,100),toY:j(0,100),x:j(-50,50),y:j(-100,-150),z:Math.floor(50*Math.random()+1),delay:j(0,1),fontSize:j(2,43)};return l.a.createElement(b.b.div,{custom:Object(v.a)({},a,{duration:t}),className:"absolute",initial:"invisible",animate:"invisible",variants:U,key:"emoij-ani-".concat(e),exit:"visible"},l.a.createElement("span",{role:"img","aria-label":"fruit"},e))}))},z=function(){var e=T(),t=e.toggleAnimation,a=e.triggerAnimation;return l.a.createElement("div",{className:"absolute z-0"},l.a.createElement("div",{className:"relative"},l.a.createElement(b.a,{initial:!1,onExitComplete:function(){return t(!1)}},!a&&l.a.createElement(B,{key:"emo",duration:.5}))))},M=function(){return l.a.createElement("div",{className:"relative mx-4"},l.a.createElement(A,null),l.a.createElement(z,null))},G=function(){var e=T().user;if(!e)return null;var t=e.name.split(" ").map((function(e){return e.slice(0,1)})).join("").slice(0,2);return l.a.createElement("div",{className:"w-10 h-10 rounded-full overflow-hidden shadow-lg"},e.pic?l.a.createElement("img",{src:e.pic,alt:"profile pic"}):l.a.createElement("svg",{viewBox:"0 0 100 100"},l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"Gradient1"},l.a.createElement("stop",{className:"stop1",offset:"0%"}),l.a.createElement("stop",{className:"stop3",offset:"100%"})),l.a.createElement("linearGradient",{id:"Gradient2",x1:"0",x2:"0",y1:"0",y2:"1"},l.a.createElement("stop",{offset:"0%",stopColor:"#f4783c"}),l.a.createElement("stop",{offset:"100%",stopColor:"#e41c53"}))),l.a.createElement("circle",{id:"avatar",cx:"50",cy:"50",r:"50"}),l.a.createElement("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontSize:"3rem",fill:"white"},t)))},L=function(e){var t=e.name;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"mr-3"},l.a.createElement(G,null)),l.a.createElement("div",{className:"flex w-full justify-between"},l.a.createElement("span",{className:"hidden md:inline"},t),l.a.createElement(M,null)))},V=function(e){var t=e.icon,a=e.name;return t?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"mr-3"},l.a.createElement("i",{className:t})),l.a.createElement("div",{className:"flex w-full justify-between"},l.a.createElement("span",{className:"hidden md:inline"},a))):l.a.createElement(L,null)},$=function(){var e=T(),t=e.step,a=e.btn,r=Object(E.g)(),c=Object(I.a)().locale,s=N(),i=Object(n.useCallback)((function(){return r.push("/".concat(c,"/").concat(t+1))}),[c,t,r]),o=Object(n.useCallback)((function(e){return r.push("/".concat(c,"/").concat(e||t+1))}),[r,c,t]);return l.a.createElement("aside",{className:"w-full lg:max-w-xs flex md:mr-10"},l.a.createElement("div",{className:"w-full"},l.a.createElement("div",{className:"flex w-full flex lg:flex-col"},_.map((function(e){var a=e.name,n=e.icon,r=e.num,c=1===r,i=t===r;return l.a.createElement("div",{key:"step-".concat(r),className:R()("flex w-full items-center md:px-3 py-4 justify-center lg:justify-start",i?"text-gray-700":"text-gray-400",i&&"lg:shadow-md lg:rounded-lg",!i&&!c&&"cursor-pointer"),onClick:function(){return!c&&!i&&o(r)}},c&&s?l.a.createElement(L,{name:s.username||s.name}):l.a.createElement(V,{icon:n,name:a}))}))),l.a.createElement("div",{className:"absolute bottom-0 left-0 right-0 md:relative flex flex-col md:mt-8 mb-6 md:mb-auto px-4 md:px-auto"},l.a.createElement("span",{className:"text-xs text-gray-400 m-auto"},"SEG\xdcENT PAS"),l.a.createElement(q.a,{disabled:a.disabled,styled:a.styled,className:"items-center",onClick:i},a.icon&&""!==a.icon?l.a.createElement("i",{className:R()("mr-3",a.icon)}):null,a.label),a.disabled&&a.disabledMessage?l.a.createElement("span",{className:"text-xs text-gray-400 m-auto"},a.disabledMessage):null)))},F=a(119),H=a.n(F),J=function(){return l.a.createElement("nav",{className:"flex sticky top-0 md:flex-row justify-start items-center w-full py-3 px-6 md:px-20 lg:px-32 mb-10 md:mb-10"},l.a.createElement("div",{className:"flex m-auto"},l.a.createElement(u.b,{to:"/"},l.a.createElement("figure",null,l.a.createElement("img",{src:H.a,alt:"Bocado",style:{maxWidth:"150px"}})))))},D=a(19),K={user:{name:"",email:""},name:"test",diners:"",time:"",cooking_time:"",cuisine:"",ingredients:[],passos:[],pics:[],videos:[],picsPerStep:[]},Q=function(e){var t=e.children,a=e.className;return l.a.createElement(D.d,{initialValues:K,onSubmit:function(e){console.log("values",e)},validate:function(){}},(function(){return l.a.createElement(D.c,{className:R()("w-full",a)},t)}))},W=function(e){var t=e.children,a=T(),r=a.setUser,c=a.step,s=Object(E.g)(),i=Object(I.a)().locale,o=N(),m=Object(n.useCallback)((function(){return o?r(o):1===c?s.push("/".concat(i,"/1")):void 0}),[s,i,c,o,r]);return Object(n.useEffect)((function(){return m()}),[]),l.a.createElement("div",{className:"wrapper"},l.a.createElement(J,null),l.a.createElement(Q,{className:"flex flex-col px-4 md:px-auto lg:flex-row w-full lg:max-w-screen-md lg:max-w-screen-lg m-auto leading-relaxed"},l.a.createElement($,null),t))},X=a(52),Y=a(72),Z=a(125),ee=a(57),te=a(116),ae=function(e){var t=e.className,a=e.type,r=Object(E.g)(),c=T().step,s=Object(I.a)().locale,i=Object(n.useCallback)((function(){var e="prev"===a?Number(c)-1:Number(c)+1;r.push("/".concat(s,"/").concat(e))}),[c,a,r,s]);return l.a.createElement("div",{onClick:i,style:{top:"50%"},className:R()(t,"absolute text-5xl p-5 text-gray-600 cursor-pointer","prev"===a?"left-0":"right-0")},"prev"===a?l.a.createElement("i",{className:"fas fa-angle-left"}):l.a.createElement("i",{className:"fas fa-angle-right"}))},ne=function(){var e=T(),t=e.step,a=e.numSteps;return l.a.createElement(l.a.Fragment,null,t>1&&l.a.createElement(ae,{type:"prev"}),t<a&&l.a.createElement(ae,{type:"next"}))},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.arrows,a=void 0!==t&&t;return function(e){return function(t){return l.a.createElement(b.b.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},className:"flex w-full"},l.a.createElement(e,t),a&&l.a.createElement(ne,null))}}};function re(){var e=Object(Y.a)(["\n  mutation Upload($file: Upload) {\n    upload(file: $file) {\n      _id\n    }\n  }\n"]);return re=function(){return e},e}var ce=Object(ee.a)(re()),se=le()((function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],r=t[1],c=Object(te.a)(ce),s=Object(g.a)(c,1)[0],i=Object(n.useCallback)((function(e){r([].concat(Object(X.a)(a),Object(X.a)(e.map((function(e){return Object(v.a)({},e,{preview:URL.createObjectURL(e)})}))))),s({variables:{file:e[0]}})}),[a,r,s]),o=Object(Z.a)({onDrop:i,accept:"image/*"}),m=o.getRootProps,u=o.getInputProps;return Object(n.useEffect)((function(){return function(){return a.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[a]),l.a.createElement("div",{className:"w-full text-gray-600 step-general"},l.a.createElement(D.a,{type:"text",name:"name",placeholder:"Nom de la recepta",className:"input text-3xl mb-8"}),l.a.createElement("div",{className:"flex items-center mb-5 w-full border border-gray-300 rounded overflow-hidden"},l.a.createElement("div",{className:"w-8 text-center"},l.a.createElement("i",{className:"fas fa-users"})),l.a.createElement(D.a,{type:"number",name:"diners",placeholder:"Numero de comen\xe7als",className:"w-full p-2"})),l.a.createElement("div",{className:"flex items-center mb-5 w-full border border-gray-300 rounded overflow-hidden"},l.a.createElement("div",{className:"w-8 text-center"},l.a.createElement("i",{className:"fas fa-stopwatch"})),l.a.createElement(D.a,{className:"w-full p-2",type:"number",min:"5",step:"5",name:"cooking_time",placeholder:"Temps cocci\xf3"}),l.a.createElement("span",{className:"text-xs p-2"},"minuts")),l.a.createElement("div",{className:"flex items-center mb-5 w-full border border-gray-300 rounded overflow-hidden"},l.a.createElement("div",{className:"w-8 text-center"},l.a.createElement("i",{className:"fas fa-tag"})),l.a.createElement(D.a,{name:"cuisine"},(function(e){var t=e.field;return l.a.createElement("select",Object.assign({},t,{className:"w-full h-10 bg-white"}),l.a.createElement("option",null,"Tipus de cuina"),l.a.createElement("option",null,"Mediterr\xe0nea"),l.a.createElement("option",null,"Asi\xe0tica"))}))),l.a.createElement("div",Object.assign({},m(),{className:"flex flex-col w-full items-center border-4 border-gray-200 border-dashed rounded overflow-hidden"}),l.a.createElement("input",u()),l.a.createElement("p",{className:"text-center"},l.a.createElement("i",{className:"far fa-images mr-3 text-3xl"}),l.a.createElement("br",null),"Arrastra imatges aqui, o be fes click"),l.a.createElement("div",{className:"flex my-3"},a.map((function(e){return l.a.createElement("div",{key:e.name||e.path,className:"pic"},l.a.createElement("div",{className:"pic-inner"},l.a.createElement("img",{src:e.preview,alt:"recipie preview"})))})))))})),ie=le()((function(){return l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"Enviar"))})),oe=a(115),me=a(156);function ue(){var e=Object(Y.a)(["\n  query getUser ($token: String!) {\n    user (filter: { accessToken: $token }) {\n      name,\n      mail,\n      accessToken,\n      pic\n    }\n  }\n"]);return ue=function(){return e},e}var de=Object(ee.a)(ue()),fe=le()((function(){var e=Object(n.useState)(null),t=Object(g.a)(e,2),a=t[0],r=t[1],c=Object(E.g)(),s=T(),i=s.user,o=s.setUser,m=Object(I.a)().locale,u=Object(oe.a)(de,{skip:null===a,variables:{token:a}}),d=u.loading,f=u.data,p=Object(n.useCallback)((function(e){e&&o(e),c.push("/".concat(m,"/2"))}),[c,o,m]);return Object(n.useEffect)((function(){i||d||!f||(localStorage.setItem("bocado_user",JSON.stringify(f.user)),p(f.user))}),[d,f,p,i]),Object(n.useEffect)((function(){if(!i){var e=new URLSearchParams(c.location.search).get("token");e&&r(e)}}),[c.location.search,i]),Object(n.useEffect)((function(){i&&p()}),[i,p]),l.a.createElement("div",null,l.a.createElement("div",{className:"flex flex-col md:flex-row justify-center items-center"},l.a.createElement("div",{className:"flex flex-col w-full md:w-1/2 md:mr-5 px-8 md:px-0"},l.a.createElement("h1",{className:"text-4xl"},l.a.createElement("span",{role:"img","aria-label":"hello"},"\ud83d\udc4b")),l.a.createElement("p",null,l.a.createElement(me.a,{id:"intro1",values:{logo:function(e){return l.a.createElement("span",{className:"bocado"},e)}}})),l.a.createElement("p",{className:"text-xs"},l.a.createElement(me.a,{id:"intro2"})),l.a.createElement("p",{className:"text-xs"},l.a.createElement(me.a,{id:"intro3"}))),l.a.createElement("div",{className:"flex flex-col w-full md:w-1/2 md:ml-5 px-8 md:px-0"},l.a.createElement("div",{className:"flex flex-col justify-center bg-gray-100 p-3 rounded-lg shadow-xl"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("input",{type:"text",placeholder:"Nom i cognoms"})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("input",{type:"email",placeholder:"Correu electr\xf2nic"})),l.a.createElement("button",{className:"border bg-gray-300 text-gray-500"},"Registrar-me!")),l.a.createElement("div",{className:"flex"},l.a.createElement(q.a,{loading:d,onClick:function(){return function(e){var t="".concat("http://localhost:4000","/auth/").concat(e);window.location.href=t}("facebook")},className:"mt-8 items-center text-gray-100 bg-blue-700 rounded-full",size:"sm"},l.a.createElement("i",{className:"fab fa-facebook mr-3"}),"Registrar-me amb Facebook")))))})),pe=a(111);function be(){var e=Object(Y.a)(["\n  query getIngredients ($locale: String!, $value: String!) {\n    ingredients(filter:{ nameByRegex:[$locale, $value]}){\n      _id\n      name{\n        ca\n        es\n      }\n    }\n  }\n"]);return be=function(){return e},e}var Ee=Object(ee.a)(be());function ge(e){e.getLabelProps;var t=e.getInputProps,a=(e.getToggleButtonProps,e.getMenuProps),n=e.getItemProps,r=e.isOpen,c=(e.clearSelection,e.selectedItem,e.inputValue),s=(e.highlightedIndex,e.innerRef),i=Object(I.a)().locale,o=Object(oe.a)(Ee,{skip:!c||c.length<=3,variables:{locale:i,value:c}}),m=o.loading,u=o.data;return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:R()("fas",m?"fa-circle-notch fa-spin":"fa-tag")}),l.a.createElement("div",{className:"relative w-full",ref:s},l.a.createElement("div",{className:"flex"},l.a.createElement("input",Object.assign({},t({value:c||"",placeholder:"Nom ingredient"}),{className:"w-full p-2 border-0"}))),l.a.createElement("div",{style:{position:"relative"}},r?l.a.createElement("ul",Object.assign({},a(),{className:"absolute w-full z-50 bg-white rounded-b cursor-pointer overflow-y-scroll border border-gray-300 shadow-xl",style:{maxHeight:"200px"}}),u&&u.ingredients&&u.ingredients.length?u.ingredients.map((function(e,t){return l.a.createElement("li",Object.assign({className:"p-3 border-b border-gray-300",key:e._id},n({item:e,index:t})),e.name.ca)})):null):null)))}var ve=function(e){var t=Object(I.a)().locale;return l.a.createElement(pe.a,{stateReducer:function(e,t){switch(t.type){case pe.a.stateChangeTypes.mouseUp:return Object(v.a)({},t,{inputValue:e.inputValue});default:return t}},onInputValueChange:function(t){return e.setValue(t)},onChange:function(a){return e.setSelected({type:"db",value:a._id,label:a.name[t]})},itemToString:function(e){return e&&e.name[t]}},(function(e){return l.a.createElement(ge,Object.assign({},e,e.getRootProps({refKey:"innerRef",suppressRefError:!0})))}))};var xe=function(e){var t=e.push,a=Object(n.useState)(""),r=Object(g.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(null),o=Object(g.a)(i,2),m=o[0],u=o[1],d=T(),f=d.points,p=d.setPoints,b={qty:Object(n.useRef)(null),unit:Object(n.useRef)(null),name:Object(n.useRef)(null)},E=Object(n.useCallback)((function(e){var a={qty:b.qty.current.value,unit:b.unit.current.selectedOptions[0].value},n=m?Object(v.a)({},m,{},a):Object(v.a)({type:"custom",label:c,value:c},a);t(n),p(f+5)}),[c,m,t,b.qty,b.unit,f,p]);return l.a.createElement("div",{className:"flex flex-col w-full"},l.a.createElement("div",{className:"flex flex-col md:flex-row w-full my-4"},l.a.createElement("div",{className:"w-full flex border border-gray-300 rounded text-gray-600 bg-white mb-4 md:mb-auto"},l.a.createElement("div",{className:"w-32 flex items-center border-r border-gray-300"},l.a.createElement("input",{ref:b.qty,type:"number",className:"p-3 w-full border-0",placeholder:"Quantitat",min:"0"})),l.a.createElement("div",{className:"w-16 flex items-center border-r border-gray-300"},l.a.createElement("select",{className:"h-full w-full",ref:b.unit},l.a.createElement("option",{value:"g"},"g"),l.a.createElement("option",{value:"kg"},"kg"),l.a.createElement("option",{value:"ml"},"ml"))),l.a.createElement("div",{className:"w-full flex items-center px-2"},l.a.createElement(ve,{setValue:s,setSelected:u}))),l.a.createElement(q.a,{type:"button",styled:"success m-auto md:ml-4",onClick:E,style:{width:"6rem"}},"Afegir")))},ye=le()((function(){var e=Object(D.e)().values.ingredients,t=T(),a=t.points,r=t.setPoints,c=t.setBtn;return Object(n.useEffect)((function(){if(e.length)return c({label:"Passos",icon:"fas fa-list-ol",styled:"gradient",disabled:!1})}),[e.length]),l.a.createElement("div",{className:"w-full"},l.a.createElement(D.b,{name:"ingredients",render:function(e){var t=e.form.values,n=e.remove,c=e.push;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bg-gray-100 px-4 py-2 rounded-md"},l.a.createElement(xe,{push:c})),t.ingredients.map((function(e,t){var c=e.label,s=e.qty,i=e.unit;return l.a.createElement("div",{key:"ing-".concat(t),className:"flex items-center justify-between py-2 my-2 border-b border-gray-200 text-gray-500"},l.a.createElement("span",null,s,i," ",l.a.createElement("span",{className:"text-gray-700"},c)),l.a.createElement("i",{className:"far fa-times-circle cursor-pointer",onClick:function(){r(a-5,!1),n(t)}}))})))}}))}));function Ne(e){var t=e.passos,a=e.push,r={text:Object(n.useRef)(null)},c=Object(n.useCallback)((function(e){a({text:r.text.current.value}),r.text.current.value=""}),[a,r.text]);return l.a.createElement("div",{className:"flex flex-col w-full bg-gray-100 px-4 py-2 rounded mb-4"},l.a.createElement("h3",{className:"text-3xl"},"Pas ",t.length+1),l.a.createElement("div",{className:"flex justify-between my-4"},l.a.createElement("div",{className:"flex flex-col"},l.a.createElement(q.a,{type:"button",className:"w-32 items-center",styled:"default",onClick:c,size:"sm"},l.a.createElement("i",{className:"far fa-images mr-3"}),"Pujar foto"),l.a.createElement("span",{className:"text-xs text-gray-400 text-center"},"Opcional")),l.a.createElement(q.a,{type:"button",className:"items-center mb-auto",styled:"success",onClick:c,size:"sm",style:{width:"6rem"}},l.a.createElement("i",{className:"fas fa-plus mr-3"}),"Afegir")),l.a.createElement("div",{className:"w-full flex"},l.a.createElement("textarea",{ref:r.text,className:"w-full border border-gray-300 rounded p-3 my-3 h-64 text-gray-700",placeholder:"Explicaci\xf3 del pas a seguir"})))}var he=le()((function(){var e=T().setBtn,t=Object(D.e)().values.passos;return Object(n.useEffect)((function(){return e({disabled:!t.length})}),[t.length]),l.a.createElement("div",{className:"w-full"},l.a.createElement(D.b,{name:"passos",render:function(e){var t=e.form.values,a=e.remove,n=e.push;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ne,{passos:t.passos,push:n}),t.passos.map((function(e,t){var n,r=e.text;return l.a.createElement("div",{key:"step-".concat(t),className:"flex flex-col py-2 my-2 border-b border-gray-200"},l.a.createElement("div",{className:"flex items-center"},l.a.createElement("i",{className:"far fa-times-circle cursor-pointer mr-3",onClick:function(){return a(t)}}),l.a.createElement("h3",{className:"text-3xl"},"Pas ",t+1)),l.a.createElement("p",{dangerouslySetInnerHTML:(n=r.replace(/\r?\n/g,"<br />"),{__html:n})}))})))}}))})),je=function(){var e=Object(I.a)().locale,t=N()?2:1,a="/".concat(e,"/").concat(t);return l.a.createElement(b.b.div,{exit:"undefined"},l.a.createElement(E.a,{to:a}))};var we=function(){var e=T().setStep,t=Object(E.g)(),a="PUSH"===t.action;return t.listen((function(t,a){var n=Number(t.pathname.split("/").pop());n&&!isNaN(n)&&e(n)})),l.a.createElement(W,null,l.a.createElement(b.a,{exitBeforeEnter:a},l.a.createElement(E.d,{location:t.location,key:t.location.pathname},l.a.createElement(E.b,{path:"/",exact:!0},l.a.createElement(je,null)),l.a.createElement(E.b,{path:"/:lang",exact:!0},l.a.createElement(je,null)),l.a.createElement(E.b,{path:"/:lang/1",exact:!0},l.a.createElement(fe,null)),l.a.createElement(E.b,{path:"/:lang/2",exact:!0},l.a.createElement(se,null)),l.a.createElement(E.b,{path:"/:lang/3",exact:!0},l.a.createElement(ye,null)),l.a.createElement(E.b,{path:"/:lang/4",exact:!0},l.a.createElement(he,null)),l.a.createElement(E.b,{path:"/:lang/5",exact:!0},l.a.createElement(ie,null)))))},Oe=(a(145),a(146),function(){var e=window.location.pathname.split("/").filter((function(e){return""!==e}))[0];if(e&&f.includes(e))return e;var t=window.localStorage.getItem("lang");return t&&f.includes(t)?t:"ca"}()),ke=new s.a({cache:new i.a,link:Object(m.createUploadLink)({uri:"".concat("http://localhost:4000","/graphql")})});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,{client:ke},l.a.createElement(d.a,{locale:Oe,messages:p[Oe]},l.a.createElement(C,null,l.a.createElement(u.a,null,l.a.createElement(we,null)))))),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.e798e813.chunk.js.map