(this.webpackJsonpform=this.webpackJsonpform||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/logo.ceaf2aeb.png"},130:function(e,t,a){e.exports=a(147)},142:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(115),c=a.n(l),s=a(79),i=a(80),o=a(113),m=a(121),u=a(43),d=a(153),p=["ca","es"],f={es:{intro1:"Somos <logo>Bocado</span>! Estamos cocinando, en pleno confinamiento por la COVID19, una aplicaci\xf3n m\xf3vil con el objetivo de compartir recetas y men\xfas saludables y equilibrados entre usuarios.",intro2:"Nosotros estamos centrados en el desarrollo y el dise\xf1o pero nos gustar\xeda poder contar contigo porque nos ayudes a completar un recetario inicial. Hemos preparado un formulario r\xe1pido y sencillo para que puedas subir tantas recetas como quieras y puedas :).",intro3:"Nos comprometemos a darte acceso para que puedas testear la app cuando est\xe9 terminada antes de presentarla al p\xfablico."},ca:{intro1:"Som <logo>Bocado</logo>! Estem cuinant, en ple confinament per la COVID19, una aplicaci\xf3 m\xf2bil amb l'objectiu de compartir receptes i men\xfas saludables i equilibrats entre usuaris.",intro2:"Nosaltres estem centrats en el desenvolupament i el disseny per\xf2 ens agradaria poder comptar amb tu perqu\xe8 ens ajudis a completar un receptari inicial. Hem preparat un formulari r\xe0pid i senzill perqu\xe8 puguis pujar tantes receptes com vulguis i puguis :).",intro3:"Ens comprometem a donar-te acc\xe9s per a que puguis testejar l'app tan bon punt la tinguem enllestida abans que en fem la presentaci\xf3 p\xfablica ;)"}},g=a(95),b=a(49),E=a(18),x=a.n(E),v=a(151),y=a(46),N=a(54),h=Object(n.createContext)(),j={step:Number(window.location.hash.split("/").find((function(e){return!isNaN(Number(e))})))||1,numSteps:4,user:null};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STEP":return Object(N.a)({},e,{step:t.step});case"SET_USER":return Object(N.a)({},e,{user:t.user});default:return Object(N.a)({},e)}}function O(e){var t=e.children;return r.a.createElement(h.Provider,{value:Object(n.useReducer)(w,j)},t)}function k(){var e=Object(n.useContext)(h),t=Object(y.a)(e,2),a=t[0],r=t[1];return Object(N.a)({},a,{setStep:function(e){return r({type:"SET_STEP",step:e})},setUser:function(e){return r({type:"SET_USER",user:e})}})}var S=a(116),C=a.n(S),q="flex justify-center items-center rounded-full mx-3 w-8 h-8",I=function(){var e=Object(v.a)().locale,t=Object(b.g)(),a=k(),l=a.setUser,c=a.setStep,s=a.step,i=Object(n.useCallback)((function(a){c(a),t.push("/".concat(e,"/").concat(a))}),[t,e,c]);return Object(n.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("bocado_user"));e&&l(e)}catch(t){}}),[l]),r.a.createElement("nav",{className:"flex sticky top-0 md:flex-row justify-start items-center w-full py-3 px-6 md:px-20 lg:px-32 mb-10 md:mb-10"},r.a.createElement("div",{className:"flex justify-end md:justify-start"},r.a.createElement(u.b,{to:"/"},r.a.createElement("figure",null,r.a.createElement("img",{src:C.a,alt:"Bocado",style:{maxWidth:"150px"}})))),r.a.createElement("div",{className:"menu hidden md:flex w-full justify-center ml-auto mr-auto"},r.a.createElement("div",{className:"flex justify-center items-center text-xs"},r.a.createElement("div",{className:x()(q,1===s?"bg-orange-200":"bg-orange-100",1===s?"text-orange-600":"text-orange-400")},"1"),r.a.createElement("span",{className:x()(1===s?"text-gray-900":"text-gray-500")},"Intro")),r.a.createElement("div",{className:"cursor-pointer flex justify-center items-center text-xs",onClick:function(){return 2!==s&&i(2)}},r.a.createElement("div",{className:x()(q,2===s?"bg-orange-200":"bg-orange-100",2===s?"text-orange-600":"text-orange-400")},"2"),r.a.createElement("span",{className:x()(2===s?"text-gray-900":"text-gray-500")},"General")),r.a.createElement("div",{className:"cursor-pointer flex justify-center items-center text-xs",onClick:function(){return 3!==s&&i(3)}},r.a.createElement("div",{className:x()(q,3===s?"bg-orange-200":"bg-orange-100",3===s?"text-orange-600":"text-orange-400")},"3"),r.a.createElement("span",{className:x()(3===s?"text-gray-900":"text-gray-500")},"Ingredients")),r.a.createElement("div",{className:"cursor-pointer flex justify-center items-center text-xs",onClick:function(){return 4!==s&&i(4)}},r.a.createElement("div",{className:x()(q,4===s?"bg-orange-200":"bg-orange-100",4===s?"text-orange-600":"text-orange-400")},"4"),r.a.createElement("span",{className:x()(4===s?"text-gray-900":"text-gray-500")},"Passos"))),r.a.createElement("div",{className:"hidden md:flex pt-4 md:max-w-xs justfy-end"},"social"))},R=a(24),T={user:{name:"",email:""},name:"test",diners:"",time:"",cooking_time:"",cuisine:"",ingredients:[],steps:[],pics:[],videos:[],picsPerStep:[]},P=function(e){var t=e.children;return r.a.createElement(R.d,{initialValues:T,onSubmit:function(e){console.log("values",e)},validate:function(){}},(function(e){e.values,e.errors;return r.a.createElement(R.c,null,t)}))},B=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(I,null),r.a.createElement(P,null,t)))},_=a(30),U=function(e){var t=e.className,a=e.type,l=Object(b.g)(),c=k(),s=c.step,i=c.setStep,o=Object(v.a)().locale,m=Object(n.useCallback)((function(){var e="prev"===a?Number(s)-1:Number(s)+1;i(e),l.push("/".concat(o,"/").concat(e))}),[s,a,l,o,i]);return r.a.createElement("div",{onClick:m,style:{top:"50%"},className:x()(t,"absolute text-5xl p-5 text-gray-600 cursor-pointer","prev"===a?"left-0":"right-0")},"prev"===a?r.a.createElement("i",{className:"fas fa-angle-left"}):r.a.createElement("i",{className:"fas fa-angle-right"}))},F=function(){var e=k(),t=e.step,a=e.numSteps;return r.a.createElement(r.a.Fragment,null,t>1&&r.a.createElement(U,{type:"prev"}),t<a&&r.a.createElement(U,{type:"next"}))},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.arrows,a=void 0!==t&&t;return function(e){return function(t){return r.a.createElement(g.b.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},className:"flex w-full md:max-w-screen-md lg:max-w-screen-md m-auto leading-relaxed"},r.a.createElement(e,t),a&&r.a.createElement(F,null))}}},$=V()((function(){var e=Object(b.g)(),t=Object(v.a)().locale,a=k(),l=a.user,c=a.setStep,s=Object(n.useCallback)((function(a){a.preventDefault(),c(3),e.push("/".concat(t,"/3"))}),[e,t,c]);return console.log("user",l),r.a.createElement("div",{className:"w-full text-gray-600"},r.a.createElement(R.a,{type:"text",name:"name",placeholder:"Nom de la recepta",className:"text-3xl mb-8"}),r.a.createElement("div",{className:"flex items-center mb-5"},r.a.createElement("div",{className:"w-10 mr-5 text-center"},r.a.createElement("i",{className:"fas fa-users"})),r.a.createElement(R.a,{type:"number",name:"diners",placeholder:"Numero de comen\xe7als"})),r.a.createElement("div",{className:"flex items-center mb-5"},r.a.createElement("div",{className:"w-10 mr-5 text-center"},r.a.createElement("i",{className:"fas fa-stopwatch"})),r.a.createElement(R.a,{type:"number",min:"5",step:"5",name:"cooking_time",placeholder:"Temps cocci\xf3"})),r.a.createElement("div",{className:"flex items-center mb-5"},r.a.createElement("div",{className:"w-10 mr-5 text-center"},r.a.createElement("i",{className:"fas fa-tag"})),r.a.createElement(R.a,{name:"cuisine"},(function(e){var t=e.field;return r.a.createElement("select",Object.assign({},t,{className:"w-full h-10"}),r.a.createElement("option",null,"Tipus de cuina"),r.a.createElement("option",null,"Mediterr\xe0nea"),r.a.createElement("option",null,"Asi\xe0tica"))}))),r.a.createElement(_.a,{handleOnclick:s,className:"shadow-full mt-8 items-center text-orange-100",size:"sm"},r.a.createElement("i",{className:"fas fa-hamburger mr-3"}),"Afegir ingredients!"))})),z=V()((function(){return r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Enviar"))})),A=a(88),J=a(73),D=a(114),H=a(152);function L(){var e=Object(A.a)(["\n  query getUserById ($token: String!) {\n    userById(filter: { accessToken: $token }) {\n      name,\n      mail,\n      accessToken\n    }\n  }\n"]);return L=function(){return e},e}var M=Object(J.a)(L()),G=V()((function(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],l=t[1],c=Object(b.g)(),s=k(),i=s.user,o=s.setUser,m=s.setStep,u=Object(v.a)().locale,d=Object(D.a)(M,{skip:null===a,variables:{token:a}}),p=d.loading,f=d.data,g=Object(n.useCallback)((function(e){e&&o(e),m(2),c.push("/".concat(u,"/2"))}),[c,m,o,u]);return Object(n.useEffect)((function(){i||p||!f||(localStorage.setItem("bocado_user",JSON.stringify(f.userById)),g(f.userById))}),[p,f,g,i]),Object(n.useEffect)((function(){if(!i){var e=new URLSearchParams(c.location.search).get("token");e&&l(e)}}),[c.location.search,i]),Object(n.useEffect)((function(){i&&g()}),[i,g]),r.a.createElement("div",null,r.a.createElement("div",{className:"flex flex-col md:flex-row justify-center items-center"},r.a.createElement("div",{className:"flex flex-col w-full md:w-1/2 md:mr-5 px-8 md:px-0"},r.a.createElement("h1",{className:"text-4xl"},r.a.createElement("span",{role:"img","aria-label":"hello"},"\ud83d\udc4b")),r.a.createElement("p",null,r.a.createElement(H.a,{id:"intro1",values:{logo:function(e){return r.a.createElement("span",{className:"bocado"},e)}}})),r.a.createElement("p",{className:"text-xs"},r.a.createElement(H.a,{id:"intro2"})),r.a.createElement("p",{className:"text-xs"},r.a.createElement(H.a,{id:"intro3"}))),r.a.createElement("div",{className:"flex flex-col w-full md:w-1/2 md:ml-5 px-8 md:px-0"},r.a.createElement("div",{className:"flex flex-col justify-center bg-gray-100 p-3 rounded-lg shadow-xl"},r.a.createElement("div",{className:"mb-3"},r.a.createElement("input",{type:"text",placeholder:"Nom i cognoms"})),r.a.createElement("div",{className:"mb-3"},r.a.createElement("input",{type:"email",placeholder:"Correu electr\xf2nic"})),r.a.createElement("button",{className:"border bg-gray-300 text-gray-500"},"Registrar-me!")),r.a.createElement("div",{className:"flex"},r.a.createElement(_.a,{loading:p,onClick:function(){return function(e){var t="".concat("http://localhost:4000","/auth/").concat(e);window.location.href=t}("facebook")},className:"mt-8 items-center text-gray-100 bg-blue-700 rounded-full",size:"sm"},r.a.createElement("i",{className:"fab fa-facebook mr-3"}),"Registrar-me amb Facebook")))))})),K=a(110);function Q(){var e=Object(A.a)(["\n  query getIngredients ($locale: String!, $value: String!) {\n    ingredients(filter:{ nameByRegex:[$locale, $value]}){\n      _id\n      name{\n        ca\n        es\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var W=function(e){return e},X=Object(J.a)(Q());function Y(e){e.getLabelProps;var t=e.getInputProps,a=e.getToggleButtonProps,n=e.getMenuProps,l=e.getItemProps,c=e.isOpen,s=e.clearSelection,i=e.selectedItem,o=e.inputValue,m=(e.highlightedIndex,e.innerRef),u=Object(v.a)().locale,d=Object(D.a)(X,{skip:!o||o.length<=3,variables:{locale:u,value:o}}),p=d.loading,f=d.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:x()("fas",p?"fa-circle-notch fa-spin":"fa-tag")}),r.a.createElement("div",{className:"relative w-full",ref:m},r.a.createElement("div",{className:"flex"},r.a.createElement("input",Object.assign({},t({value:o||"",placeholder:"Nom ingredient"}),{className:"border-0"})),i?r.a.createElement("button",{onClick:s,"aria-label":"clear selection",className:"w-10"},"X"):r.a.createElement("button",Object.assign({},a(),{className:"w-10"}),"^")),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("ul",Object.assign({},n(),{className:"absolute w-full z-50 bg-white rounded-b cursor-pointer overflow-y-scroll border border-gray-300 shadow-xl",style:{maxHeight:"200px"}}),c&&f&&f.ingredients&&f.ingredients.length?f.ingredients.map((function(e,t){return r.a.createElement("li",Object.assign({className:"p-3 border-b border-gray-300",key:e._id},l({item:e,index:t})),e.name.ca)})):null))))}var Z=function(){return r.a.createElement(K.a,{stateReducer:function(e,t){switch(t.type){case K.a.stateChangeTypes.mouseUp:return Object(N.a)({},t,{inputValue:e.inputValue});default:return t}},onChange:function(e){return console.log(e?"You selected ".concat(e):"selection cleared")},itemToString:W},(function(e){return r.a.createElement(Y,Object.assign({},e,e.getRootProps({refKey:"innerRef",suppressRefError:!0})))}))};var ee=function(e){var t=e.toggle,a=e.push,l={qty:Object(n.useRef)(null),unit:Object(n.useRef)(null),name:Object(n.useRef)(null)},c=Object(n.useCallback)((function(e){var n={qty:l.qty.current.value,unit:l.unit.current.selectedOptions[0].value,name:l.name.current.value};a(n),t(!1)}),[a,t,l.name,l.unit,l.qty]);return r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("div",{className:"w-full flex border border-gray-300 rounded text-gray-600 my-4"},r.a.createElement("div",{className:"w-32 flex items-center border-r border-gray-300"},r.a.createElement("input",{ref:l.qty,type:"number",className:"p-3 w-full border-0",placeholder:"Quantitat"})),r.a.createElement("div",{className:"w-24 flex items-center border-r border-gray-300"},r.a.createElement("select",{className:"h-full w-full",ref:l.unit},r.a.createElement("option",{value:"g"},"g"),r.a.createElement("option",{value:"kg"},"kg"),r.a.createElement("option",{value:"ml"},"ml"))),r.a.createElement("div",{className:"w-full flex items-center px-2"},r.a.createElement(Z,null))),r.a.createElement(_.a,{type:"button",className:"w-full",styled:"success",onClick:c},"Afegir"))},te=V()((function(){var e=Object(n.useState)(!0),t=Object(y.a)(e,2),a=t[0],l=t[1],c=Object(n.useCallback)((function(){return l(!a)}),[a,l]);return r.a.createElement("div",{className:"w-full"},r.a.createElement(R.b,{name:"ingredients",render:function(e){var t=e.form.values,n=e.remove,s=e.push;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex"},r.a.createElement("button",{className:"border border-gray-300 bg-gray-100 text-gray-600 mr-2",onClick:c},"Nou ingredient"),r.a.createElement(_.a,{styled:"gradient",className:"ml-2",disabled:0===t.ingredients.length},"Fet!")),a&&r.a.createElement(ee,{toggle:l,push:s}),t.ingredients.map((function(e,t){var a=e.name,l=e.qty,c=e.unit;return r.a.createElement("div",{key:"ing-".concat(t),className:"flex items-center justify-between py-2 my-2 border-b border-gray-200 text-gray-500"},r.a.createElement("span",null,l,c," ",r.a.createElement("span",{className:"text-gray-700"},a)),r.a.createElement("i",{className:"far fa-times-circle cursor-pointer",onClick:function(){return n(t)}}))})))}}))}));function ae(e){var t=e.toggle,a=e.push,l={text:Object(n.useRef)(null)},c=Object(n.useCallback)((function(e){var n={text:l.text.current.value};a(n),t(!1)}),[a,t,l.text]);return r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("div",{className:"w-full flex"},r.a.createElement("textarea",{ref:l.text,className:"w-full border border-gray-300 rounded p-3 my-3 h-64 text-gray-700",placeholder:"Explicaci\xf3 del pas a seguir"})),r.a.createElement(_.a,{type:"button",className:"w-full",styled:"success",onClick:c},"Afegir"))}var ne=V()((function(){var e=Object(n.useState)(!0),t=Object(y.a)(e,2),a=t[0],l=t[1],c=Object(n.useCallback)((function(){return l(!a)}),[a,l]);return r.a.createElement("div",{className:"w-full"},r.a.createElement(R.b,{name:"steps",render:function(e){var t=e.form.values,n=e.remove,s=e.push;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex"},r.a.createElement("button",{className:"border border-gray-300 bg-gray-100 text-gray-600 mr-2",onClick:c},"Nou pas"),r.a.createElement(_.a,{className:"ml-2",disabled:0===t.steps.length},"Fet!")),a&&r.a.createElement(ae,{toggle:l,push:s}),t.steps.map((function(e,t){var a=e.text;return r.a.createElement("div",{key:"step-".concat(t),className:"flex items-center justify-between py-2 my-2 border-b border-gray-200 text-gray-500"},r.a.createElement("span",null,r.a.createElement("span",{className:"text-gray-700"},a)),r.a.createElement("i",{className:"far fa-times-circle cursor-pointer",onClick:function(){return n(t)}}))})))}}))}));var re=function(){var e=Object(b.h)();return r.a.createElement(B,null,r.a.createElement(g.a,{exitBeforeEnter:!0},r.a.createElement(b.d,{location:e,key:e.pathname},r.a.createElement(b.b,{path:"/",exact:!0},r.a.createElement(b.a,{from:"/",to:"/ca/1"})),r.a.createElement(b.b,{path:"/:lang/1",exact:!0},r.a.createElement(G,null)),r.a.createElement(b.b,{path:"/:lang/2",exact:!0},r.a.createElement($,null)),r.a.createElement(b.b,{path:"/:lang/3",exact:!0},r.a.createElement(te,null)),r.a.createElement(b.b,{path:"/:lang/4",exact:!0},r.a.createElement(ne,null)),r.a.createElement(b.b,{path:"/:lang/5",exact:!0},r.a.createElement(z,null)))))},le=(a(142),function(){var e=window.location.pathname.split("/").filter((function(e){return""!==e}))[0];if(e&&p.includes(e))return e;var t=window.localStorage.getItem("lang");return t&&p.includes(t)?t:"ca"}()),ce=new s.a({cache:new i.a,link:Object(m.createUploadLink)({uri:"".concat("http://localhost:4000","/graphql")})});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{client:ce},r.a.createElement(d.a,{locale:le,messages:f[le]},r.a.createElement(O,null,r.a.createElement(u.a,null,r.a.createElement(re,null)))))),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.f75ee143.chunk.js.map